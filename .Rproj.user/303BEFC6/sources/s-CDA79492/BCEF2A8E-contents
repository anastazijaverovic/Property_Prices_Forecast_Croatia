# Data source:
# https://databank.worldbank.org/reports.aspx?source=2&series=NY.GDP.PCAP.CD#
# https://www.hnb.hr/en/web/guest/statistics/statistical-data/financial-sector/other-monetary-financial-institutions/credit-institutions/interest-rates

# Data preprocessing

#gdp_per_capita in US$
gdp_per_capita = read.csv("gdp_per_capita.csv", sep=";", nrows = 1,check.names = FALSE)
house_price_index = read.csv("house_price_index.csv", sep=";",check.names = FALSE)
housing_loans_interest_rates = read.csv("housing_loans_interest_rates_2.csv", sep=";",check.names = FALSE)

library(dplyr)

gdp_per_capita <- gdp_per_capita[4:ncol(gdp_per_capita)] %>%
  select(starts_with("Series Name"),starts_with("201"))

house_price_index <- house_price_index[5:ncol(house_price_index)]

housing_loans_interest_rates <- housing_loans_interest_rates %>%
  select(starts_with("Loan"), starts_with("201", ignore.case = TRUE))

housing_loans_interest_rates <- lapply(housing_loans_interest_rates, as.character)
housing_loans_interest_rates <- gsub(",",".",housing_loans_interest_rates)
housing_loans_interest_rates <- lapply(housing_loans_interest_rates, as.double)


# Binding datasets by rows

rbind(gdp_per_capita[-1],head(housing_loans_interest_rates[-1],1))

